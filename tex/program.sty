\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\chaptermark}[1]{%
	\markboth{\thechapter.\ #1}{}}
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
%  \hbox{}
%  \vspace*{\fill}
%  \begin{center}
%    This page intentionally contains only this sentence.
%  \end{center}
%  \vspace{\fill}
  \thispagestyle{empty}
\newpage
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

\fancyfoot[C]{\thepage}
\usepackage{array}
\usepackage{wrapfig}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{setspace}
\usepackage{multicol}
\usepackage{microtype}
\usepackage{menukeys}
\usepackage{attachfile}
\usepackage[T1]{fontenc}
\usepackage{inconsolata}
\usepackage{lmodern}
\usepackage{makeidx}
\makeindex
\usepackage{fancyvrb} %Allow bold in verbatim text.
\usepackage[section]{placeins} %Deal with floats being in the wrong place.

\newcommand\frontmatter{%
    \cleardoublepage
  %\@mainmatterfalse
  \pagenumbering{roman}}

\newcommand\mainmatter{%
    \cleardoublepage
 % \@mainmattertrue
  \pagenumbering{arabic}}

\usepackage{color}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\usepackage{xcolor}
\usepackage{minted}
\usemintedstyle{autumn}
\usepackage{tex/mints}
\usepackage{listings}
\AtBeginDocument{\renewcommand{\thelstlisting}{\thesubsubsection.\arabic{lstlisting}}}
\def\l@lstlisting#1#2{\@dottedtocline{1}{3em}{3.5em}{#1}{#2}}
\lstset { 									%
%	language={[ANSI]C}, 					%
	otherkeywords={printf, strcpy, *, &, malloc},	%
	numbers=left, 							%
	numberfirstline=true,					%
	showspaces=false, 						%
	showtabs=false, 						%
	showstringspaces=false, 				%
	commentstyle=\color{mygreen}, 			%
	tabsize=4, 								%
	keywordstyle=\color{blue}, 				%
	xleftmargin=2em,						%
	extendedchars=true,     			    %
	basicstyle=\small\sffamily,				%
	columns=fullflexible,					%
	breaklines=true,		            	%
	literate={%
    	*{0}{{{\color{brown}0}}}1					%
    	{1}{{{\color{brown}1}}}1					%
    	{2}{{{\color{brown}2}}}1					%
    	{3}{{{\color{brown}3}}}1					%
    	{4}{{{\color{brown}4}}}1					%
    	{5}{{{\color{brown}5}}}1					%
   		{6}{{{\color{brown}6}}}1					%
	    {7}{{{\color{brown}7}}}1					%
   		{8}{{{\color{brown}8}}}1					%
	    {9}{{{\color{brown}9}}}1},				%
	stringstyle=\color{mymauve}}
\lstloadlanguages{C}
\lstloadlanguages{bash}
\lstloadlanguages{Python}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\lstdefinelanguage{nmap}{
  keywords={ssh, domain, pop3, netbios, imap, samba, nfs, telnet, http, https, rpcbind, exec, login, shell, ingreslock, mysql, postgresql, vnc, X11, irc, microsoft, ftp},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={tcp, udp, open, closed, VMware},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]",
  numbers=none
}
\lstdefinelanguage{bind}{
  keywords={options, directory, allow-transfer, allow-recursion, logging, channel, file, severity, print-severity, print-time, category, default, zone, type, allow-update, TTL, IN, SOA, A, NS, CNAME, MX, PTR}
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{;},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
}
\usepackage{./tex/lstlangarm} % give language definition for ARM ASM.
\lstdefinestyle{CLI} {%
	language=bash,
	numbers=none,
	showspaces=false, 						%
	showtabs=false, 						%
	showstringspaces=false, 				%
	commentstyle=\color{black}, 			%
	tabsize=1, 								%
	gobble=4,								%
	keywordstyle=\color{blue}, 				%
	extendedchars=true,     			    %
	basicstyle=\small\sffamily,				%
	columns=fullflexible,					%
	breaklines=true,		            	%
	stringstyle=\color{mymauve}}
%Sorting code floats.
\usepackage{float}
\floatstyle{ruled}
\newfloat{code}{htb}{loc}[chapter]
\floatname{code}{Code Example}
%\newfloat{output}{htb}{loo}[chapter]
%\floatname{output}{CLI Output Example}
\makeatletter
\let\my@chapter\@chapter
\renewcommand*{\@chapter}{%
  \addtocontents{loc}{\protect\addvspace{10pt}}%
  \my@chapter}
\makeatother
\renewcommand{\abstractname}{Introduction}
\interfootnotelinepenalty=10000
\setcounter{secnumdepth}{1}
\setcounter{tocdepth}{1}
\makeatletter
\usepackage{parskip}
\renewcommand*{\listof}[2]{%
	\@ifundefined{ext@#1}{\float@error{#1}}{%
		\expandafter\let\csname l@#1\endcsname \l@figure  % <- use layout of figure
		\@namedef{l@#1}{\@dottedtocline{1}{1.5em}{2.5em}}%
		\float@listhead{#2}%
		\begingroup
			\setlength\parskip{0pt plus 1pt}%               % <- or drop this line completely
			\@starttoc{\@nameuse{ext@#1}}%
		\endgroup}}
\makeatother
\usepackage{hyperref}
\usepackage{tikz}
\usetikzlibrary{automata,arrows,topaths}
